---
title: "Authentication"
seoTitle: "API Authentication Guide | ContentStats.io"
description: "Learn how to authenticate with the ContentStats.io API using API keys. Best practices for security, key rotation, and managing multiple environments."
---

## API Key Authentication

ContentStats.io uses API keys to authenticate requests. Include your API key in the `X-API-Key` header for every request.

```bash
curl https://contentstats.io/api/v1/videos \
  -H "X-API-Key: cs_live_YOUR_KEY"
```

## Getting Your API Key

<Steps>
  <Step title="Access Dashboard">
    Go to [Dashboard → API Keys](https://contentstats.io/dashboard/api-keys)
  </Step>
  
  <Step title="Create New Key">
    Click **"Create New Key"** and give it a descriptive name
  </Step>
  
  <Step title="Copy & Store">
    Copy the key immediately — it's only shown once
  </Step>
</Steps>

<Warning>
  **Never expose your API key in client-side code**, public repositories, or logs. Always use environment variables.
</Warning>

## Key Formats

API keys come in two formats:

| Environment | Prefix | Example |
|-------------|--------|---------|
| **Production** | `cs_live_` | `cs_live_sk_abc123...` |
| **Test** | `cs_test_` | `cs_test_sk_xyz789...` |

<Info>
  Test keys are for development only. They work with the API but don't charge your account.
</Info>

## Using API Keys

### Environment Variables

**Recommended approach** — store keys in environment variables:

<CodeGroup>
  ```bash .env
  CONTENTSTATS_API_KEY=cs_live_YOUR_KEY
  ```

  ```javascript JavaScript
  const apiKey = process.env.CONTENTSTATS_API_KEY;

  const response = await fetch('https://contentstats.io/api/v1/videos', {
    headers: {
      'X-API-Key': apiKey
    }
  });
  ```

  ```python Python
  import os
  import requests

  api_key = os.environ.get('CONTENTSTATS_API_KEY')

  response = requests.get(
      'https://contentstats.io/api/v1/videos',
      headers={'X-API-Key': api_key}
  )
  ```

  ```php PHP
  <?php
  $apiKey = getenv('CONTENTSTATS_API_KEY');

  $curl = curl_init();
  curl_setopt_array($curl, [
      CURLOPT_URL => 'https://contentstats.io/api/v1/videos',
      CURLOPT_HTTPHEADER => [
          "X-API-Key: $apiKey"
      ]
  ]);
  ?>
  ```
</CodeGroup>

### Request Headers

All API requests require:

```http
X-API-Key: cs_live_YOUR_KEY
Content-Type: application/json
```

Example request:

```bash
curl -X POST https://contentstats.io/api/v1/videos/track \
  -H "Content-Type: application/json" \
  -H "X-API-Key: cs_live_YOUR_KEY" \
  -d '{
    "video_link": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
    "duration_days": 7
  }'
```

## Authentication Errors

### 401 Unauthorized

Missing or invalid API key:

```json
{
  "error": "API key required"
}
```

**Fix**: Ensure `X-API-Key` header is present and correctly formatted.

### 403 Forbidden

Valid key but insufficient permissions:

```json
{
  "error": "Access denied"
}
```

**Fix**: Check you're accessing resources owned by your organization.

### 402 Payment Required

Insufficient balance:

```json
{
  "error": "Insufficient balance",
  "balance": 0.50,
  "estimated_cost": 2.52
}
```

**Fix**: [Add credits](https://contentstats.io/dashboard/billing) to your account.

## Security Best Practices

<AccordionGroup>
  <Accordion icon="shield-check" title="Never Expose Keys in Code">
    ❌ **Don't do this:**
    ```javascript
    const apiKey = 'cs_live_sk_abc123...'; // Hardcoded!
    ```
    
    ✅ **Do this:**
    ```javascript
    const apiKey = process.env.CONTENTSTATS_API_KEY;
    ```
  </Accordion>
  
  <Accordion icon="git-alt" title="Don't Commit Keys to Git">
    Add `.env` to your `.gitignore`:
    
    ```bash .gitignore
    .env
    .env.local
    .env.production
    ```
  </Accordion>
  
  <Accordion icon="rotate" title="Rotate Keys Regularly">
    Rotate API keys every 90 days or immediately if compromised:
    
    1. Create a new key
    2. Update your application
    3. Delete the old key
  </Accordion>
  
  <Accordion icon="server" title="Use Server-Side Only">
    Never call the API from client-side JavaScript. Use a backend proxy:
    
    ```javascript
    // ❌ Don't expose API key in browser
    fetch('https://contentstats.io/api/v1/videos', {
      headers: { 'X-API-Key': key } // Exposed to users!
    });
    
    // ✅ Call your own backend instead
    fetch('/api/videos'); // Your backend handles API key
    ```
  </Accordion>
  
  <Accordion icon="list-check" title="Audit API Key Usage">
    Monitor your keys in the [Dashboard](https://contentstats.io/dashboard/api-keys):
    
    - Last used timestamp
    - Request count
    - Associated resources
  </Accordion>
</AccordionGroup>

## Managing Multiple Keys

You can create multiple API keys for:

- **Different environments** (development, staging, production)
- **Team members** (track usage per person)
- **Applications** (separate keys per service)

### Key Organization

```bash
# Development
CONTENTSTATS_API_KEY_DEV=cs_test_sk_dev123...

# Staging
CONTENTSTATS_API_KEY_STAGING=cs_live_sk_stg456...

# Production
CONTENTSTATS_API_KEY_PROD=cs_live_sk_prd789...
```

## Rate Limiting

API keys are subject to rate limits based on your plan:

| Plan | Rate Limit |
|------|------------|
| **Free** | 60 requests/minute |
| **Pro** | 300 requests/minute |
| **Enterprise** | Custom |

<Info>
  Rate limits are per API key. See [Rate Limits](/api-reference/rate-limits) for details.
</Info>

## Key Rotation Example

<Steps>
  <Step title="Create New Key">
    Generate a new key in the dashboard: `cs_live_sk_NEW123...`
  </Step>
  
  <Step title="Update Application">
    Update environment variable:
    ```bash
    CONTENTSTATS_API_KEY=cs_live_sk_NEW123...
    ```
  </Step>
  
  <Step title="Deploy & Verify">
    Deploy changes and verify requests work with new key
  </Step>
  
  <Step title="Delete Old Key">
    Delete the old key from dashboard once confirmed working
  </Step>
</Steps>

## Testing Your Authentication

Verify your API key works:

```bash
curl https://contentstats.io/api/v1/usage \
  -H "X-API-Key: cs_live_YOUR_KEY"
```

<Accordion title="Success Response">
  ```json
  {
    "balance_usd": 5.00,
    "total_snapshots": 0,
    "active_videos": 0,
    "estimated_snapshots_remaining": 333
  }
  ```
</Accordion>

## Compromised Key?

If your API key is exposed:

1. **Delete it immediately** in the [Dashboard](https://contentstats.io/dashboard/api-keys)
2. **Create a new key**
3. **Update your application**
4. **Review usage logs** for unauthorized activity

<Warning>
  Deleted keys stop working immediately. Ensure you've updated your application before deleting.
</Warning>

## Next Steps

<CardGroup cols={2}>
  <Card
    title="API Reference"
    icon="book"
    href="/api-reference/introduction"
  >
    Explore all API endpoints
  </Card>
  <Card
    title="Error Handling"
    icon="triangle-exclamation"
    href="/api-reference/errors"
  >
    Handle authentication errors
  </Card>
  <Card
    title="Rate Limits"
    icon="gauge"
    href="/api-reference/rate-limits"
  >
    Understand rate limiting
  </Card>
  <Card
    title="Quickstart"
    icon="rocket"
    href="/quickstart"
  >
    Make your first API call
  </Card>
</CardGroup>
